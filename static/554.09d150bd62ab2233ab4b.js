"use strict";(self.webpackChunkobiter=self.webpackChunkobiter||[]).push([[554],{554:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var n=a(6271),l=a.n(n),i=a(5435),s=a(4903),c=a(534),m=a(6059),r=a(9928),o=a(6992);const d=a.n(o)().create({withCredentials:!0});var u=a(3840),g=a.n(u);const b=({files:e})=>{const[t,a]=(0,n.useState)([]),[i,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{s(!0),d("/services/submit/api/assignments").then((e=>{const{data:t}=e;a(t.map((e=>({id:e.id,name:e.name,course_id:e.course_id,html_url:e.html_url,has_submitted_submissions:e.has_submitted_submissions})))),s(!1)}))}),[]),l().createElement("div",null,l().createElement("label",{htmlFor:"assignment-select"},"Selected file(s):"),l().createElement("ol",null,e.map(((e,t)=>l().createElement("li",{key:t},e)))),l().createElement("label",{htmlFor:"assignment-select"},"Choose an assignment:"),i&&l().createElement("div",{className:"orbiter-loading"},l().createElement(g(),{type:"BallTriangle",color:"#00BFFF",height:"35",width:"35"})),!i&&l().createElement("select",{name:"assignment",id:"assignment-select"},l().createElement("option",{value:""},"--Please choose an option--"),t.map((e=>l().createElement("option",{key:e.id,value:e.id},e.name)))))},h=()=>{const[e,t]=(0,n.useState)([{name:"File 1",isSelected:!1},{name:"File 2",isSelected:!1},{name:"File 3",isSelected:!1},{name:"File 4",isSelected:!1},{name:"File 5",isSelected:!1}]),[a,s]=(0,n.useState)(!1);return l().createElement("div",{className:"w-50"},l().createElement("table",{className:"m-b"},l().createElement("tr",null,l().createElement("th",null,l().createElement(c.Checkbox,{checked:a,onChange:a=>{s(a.target.checked);const n=[...e];t(n.map((e=>Object.assign(Object.assign({},e),{isSelected:a.target.checked}))))}})),l().createElement("th",null,"Files")),e.map(((a,n)=>l().createElement("tr",{key:n},l().createElement("td",{width:1},l().createElement(c.Checkbox,{checked:a.isSelected,onChange:a=>((a,n)=>{const l=[...e];l[n].isSelected=a.target.checked,t(l),s(l.filter((e=>e.isSelected)).length===l.length)})(a,n)})),l().createElement("td",null,a.name))))),l().createElement("div",{className:"text-right"},l().createElement(c.Button,{disabled:!e.find((e=>e.isSelected)),className:"obiter-button",onClick:async()=>{if((await(0,i.showDialog)({title:"Submit files",body:l().createElement(b,{files:e.filter((e=>e.isSelected)).map((e=>e.name))}),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:"submit"})]})).button.accept){alert("Submitted");const a=[...e];t(a.map((e=>Object.assign(Object.assign({},e),{isSelected:!1}))))}}},"Submit")))};class E extends i.ReactWidget{constructor(){super(),this.addClass("obiter-widget-container")}render(){return l().createElement(h,null)}}const S=()=>{const[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{i(!0),d("/services/submit/api/assignments").then((e=>{const{data:a}=e;t(a.map((e=>({id:e.id,name:e.name,course_id:e.course_id,html_url:e.html_url,has_submitted_submissions:e.has_submitted_submissions,isSynced:!1,isLoading:!1})))),i(!1)}))}),[]),a?l().createElement("div",{className:"orbiter-file-sync orbiter-loading"},l().createElement(g(),{type:"BallTriangle",color:"#00BFFF",height:80,width:80})):l().createElement("div",{className:"w-50"},l().createElement("table",null,l().createElement("tr",null,l().createElement("th",null,"Assignment ID"),l().createElement("th",null,"Name"),l().createElement("th",null,"Course ID"),l().createElement("th",null,"Link"),l().createElement("th",null,"Submitted?"),l().createElement("th",null)),e.map(((a,n)=>l().createElement("tr",{key:n},l().createElement("td",null,a.id),l().createElement("td",null,a.name),l().createElement("td",null,a.course_id),l().createElement("td",null,l().createElement("a",{href:a.html_url,target:"_blank"},"Link")),l().createElement("td",null,a.has_submitted_submissions?"YES":"NO"),l().createElement("td",null,l().createElement(c.Button,{onClick:()=>(a=>{const n=[...e];n[a].isLoading=!0,t(n),setTimeout((()=>{const n=[...e];n[a].isLoading=!1,n[a].isSynced=!0,t(n)}),1e3)})(n),disabled:a.isSynced,className:"obiter-button"},a.isLoading?"Loading...":"Files Sync")))))))};class k extends i.ReactWidget{constructor(){super(),this.addClass("obiter-widget-container")}render(){return l().createElement(S,null)}}var p=a(5952),f=a.n(p);const y=()=>{const[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!1);(0,n.useEffect)((()=>{i(!0),d("/services/submit/api/assignments").then((e=>{const{data:a}=e;t(a.map((e=>({id:e.id,name:e.name,course_id:e.course_id,html_url:e.html_url,has_submitted_submissions:e.has_submitted_submissions,allowedPackages:[{id:1,name:"Numpy"}]})))),i(!1)}))}),[]);const[s]=(0,n.useState)([{id:1,name:"Numpy"},{id:2,name:"Scipy"},{id:3,name:"Scikit-learn"},{id:4,name:"Theano"},{id:5,name:"TensorFlow"},{id:6,name:"Keras"},{id:7,name:"PyTorch"},{id:8,name:"Pandas"},{id:9,name:"Matplotlib"}]);return a?l().createElement("div",null,"Loading..."):l().createElement("div",null,l().createElement("table",{className:"m-b"},l().createElement("tr",null,l().createElement("th",null,"Assignment ID"),l().createElement("th",null,"Name"),l().createElement("th",null,"Course ID"),l().createElement("th",null,"Link"),l().createElement("th",null)),e.map(((a,n)=>l().createElement("tr",{key:n},l().createElement("td",null,a.id),l().createElement("td",null,a.name),l().createElement("td",null,a.course_id),l().createElement("td",null,l().createElement("a",{href:a.html_url,target:"_blank"},"Link")),l().createElement("td",{width:400},l().createElement(f(),{tags:a.allowedPackages,suggestions:s,onDelete:a=>((a,n)=>{const l=[...e],i=[...e[n].allowedPackages];i.splice(a,1),l[n].allowedPackages=i,t(l)})(a,n),onAddition:a=>((a,n)=>{const l=[...e],i=[...e[n].allowedPackages];l[n].allowedPackages=[...i,a],t(l)})(a,n)})))))),l().createElement("div",{className:"text-right"},l().createElement(c.Button,{className:"obiter-button",onClick:()=>{alert("Submitted")}},"Submit")))};class _ extends i.ReactWidget{constructor(){super(),this.addClass("obiter-widget-container")}render(){return l().createElement(y,null)}}var w,v=a(3706);!function(e){e.fileSubmitDialog="obiter:file-submit-dialog",e.fileSubmit="obiter:file-submit",e.fileSync="obiter:file-sync",e.packageManagement="obiter:package-management"}(w||(w={}));const I="Orbiter",F={id:"obiter:extension",autoStart:!0,requires:[s.IFileBrowserFactory,m.ILauncher,i.ICommandPalette,r.IMainMenu],activate:(e,t,a,n,s)=>{console.log("JupyterLab extension obiter is activated!"),((e,t)=>{e.commands.addCommand(w.fileSubmitDialog,{label:"Submit files",caption:"Submit the files to your assignment",icon:c.fileUploadIcon,execute:async()=>{var e,a;const n=[],s=null===(a=null===(e=null==t?void 0:t.tracker)||void 0===e?void 0:e.currentWidget)||void 0===a?void 0:a.selectedItems();let c=null==s?void 0:s.next();for(;c;)n.push(c),c=null==s?void 0:s.next();n.length&&(await(0,i.showDialog)({title:"Submit files",body:l().createElement(b,{files:n.map((e=>e.name))}),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:"submit"})]})).button.accept&&alert("Submitted")}}),e.commands.addCommand(w.fileSubmit,{label:"Submit Files",caption:"Submit the files to your assignment",icon:c.fileUploadIcon,execute:()=>{const t=new E,a=new i.MainAreaWidget({content:t});a.title.label="Submit Files",a.title.icon=c.fileUploadIcon,e.shell.add(a,"main")}}),e.commands.addCommand(w.fileSync,{label:"Assignment Files Sync",caption:"Assignment Files Sync",icon:c.refreshIcon,execute:()=>{const t=new k,a=new i.MainAreaWidget({content:t});a.title.label="Assignment File Sync",a.title.icon=c.refreshIcon,e.shell.add(a,"main")}}),e.commands.addCommand(w.packageManagement,{label:"Python Packages Management",caption:"Python Packages sManagement",icon:c.pythonIcon,execute:()=>{const t=new _,a=new i.MainAreaWidget({content:t});a.title.label="Python Packages Management",a.title.icon=c.pythonIcon,e.shell.add(a,"main")}})})(e,t),(e=>{e.contextMenu.addItem({type:"separator",selector:'.jp-DirListing-item[data-isdir="false"]',rank:10}),e.contextMenu.addItem({command:w.fileSubmitDialog,selector:'.jp-DirListing-item[data-isdir="false"]',rank:10})})(e),((e,t)=>{t&&(t.add({command:w.fileSubmit,category:I,rank:1}),t.add({command:w.fileSync,category:I,rank:2}),t.add({command:w.packageManagement,category:I,rank:3}))})(0,a),(e=>{e&&(e.addItem({command:w.fileSubmit,category:I,rank:1}),e.addItem({command:w.fileSync,category:I,rank:2}),e.addItem({command:w.packageManagement,category:I,rank:3}))})(n),((e,t)=>{const a=new v.Menu({commands:e.commands});a.title.label=I,a.addItem({command:w.fileSubmit,args:{category:I,rank:1}}),a.addItem({command:w.fileSync,args:{category:I,rank:2}}),a.addItem({command:w.packageManagement,args:{category:I,rank:3}}),t.addMenu(a,{rank:40})})(e,s)}}}}]);